<source>
  @type forward
  port 24224
</source>

<filter **>
    @type parser
    key_name log
    reserve_data false
    remove_key_name_field true
    <parse>
        @type regexp
        expression /^\[(?<logTime>.+)\]\s+provider=(?<provider>\S+),\s+item=(?<item>\S+),\s+merchant=(?<merchant>\S+)\s+$/
        # expression /^\[(?<logTime>.+)\]\s+(?<logMessage>.+)$/
        time_key logTime
        time_format %a %d %b %Y %T,000 %z
    </parse>
</filter>

#<filter **>
#    @type parser
#    key_name logMessage
#    remove_key_name_field true
#    <parse>
#        @type ltsv
#        delimiter_pattern /,\s+/
#        label_delimiter =
#    </parse>
#</filter>

<match **>
  @type stdout
</match>

